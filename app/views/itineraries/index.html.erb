<script class="no-show-itin" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<div id="navbar-itin">
  <%= render "shared/navbar" %>
</div>

<div id="map-act" class="itinerary-map position-absolute">
  <%= render "activities/map" %>
</div>

<div class="itin-body-container card py-5 align-items-center justify-content-center text-left">
  <div class="row py-lg-5">
    <div class="container-fluid mt-5">
      <h1><%=@username%>'s Trips</h1>
    </div>
  </div>
  <div class="container-fluid">
    <ul class="list-unstyled">
      <% @itineraries.each do |itinerary| %>
      <div class="itin-index-card-container card mt-3">
        <div class="itin-index-card card container-fluid mb-1 d-flex py-3">
          <div class="container-fluid d-flex align-items-center justify-content-center">
            <div class="col-5 d-flex content-align-center justify-content-left text-center ms-2 me-2">
              <img class="itin-index-imgs mt-2 mb-2" src="https://source.unsplash.com/256x256/?<%=itinerary.answer1%>">
            </div>
            <div class="itin-index-card-text col-8 d-flex justify-content-center text-left me-2">
              <li> <h5><%= link_to itinerary.name, itinerary_activities_path(itinerary)%></h5> </li>
            </div>
          </div>
        </div>
      <% end %>
      </div>
    </ul>
  </div>
  <div class="memory card mt-5 py-5 mb-5" style="
      position: fixed;
      width: 100%;
      height: 100%;
      top:0;
      left:0;
      display: none;
      background-color: #EFEFEF;">
    <%= render "memory_reel" %>
    <%= render "memory_reel2" %>
    <%# <div class="print-icon-2">
      <a href="https://freesnaps.co.uk/" class="btn-tripmate-black share" target="_blank"><i class="fa-solid fa-print"></i></a>
    </div> %>
  </div>
</div>

<div class="c2a-button-map-itin">
  <i class="d-flex align-items-center justify-content-center fa-solid fa-map-location-dot"></i>
</div>

<div class="c2a-button-add-itin">
  <a class="nav-link" href="/itineraries/new">
    <i class="d-flex align-items-center justify-content-center fa-solid fa-plus"></i>
  </a>
</div>

<div class="c2a-button-view-mem">
  <i class="d-flex align-items-center justify-content-center fa-solid fa-images"></i>
</div>


<script class="no-show-itin">
  document.addEventListener('DOMContentLoaded', function() {
    const mapButton = document.querySelector('.c2a-button-map-itin');
  let elementsHidden = false;
  console.log(mapButton)
  mapButton.addEventListener('click', function() {
    if (elementsHidden) {
      // fade in all elements
      $('body').children().not('.c2a-button-map-itin, .no-show-itin, #navbar-itin, #map-act').fadeIn();
    } else {
      // fade out all elements except the specified ones
      $('body').children().not('.c2a-button-map-itin, .no-show-itin, #navbar-itin, #map-act').fadeOut();
    }
    elementsHidden = !elementsHidden;
  });

    // const memButton = document.querySelector('.c2a-button-view-mem');
    // const memoryContainer = document.querySelector('.memory');
    // const mapButton = document.querySelector('.c2a-button-map-itin');
    // const otherContent = $('body').children().not('.memory, .no-show-itin, .itinerary-map, .c2a-button-map-itin, #navbar-itin');
    // let elementsHidden = false;

    // memButton.addEventListener('click', function() {
    //   $(memoryContainer).fadeToggle();
    // });

    // mapButton.addEventListener('click', function() {
    //   $(otherContent).fadeToggle();
    // });

    // mapButton.addEventListener('click', function() {
    //   if (elementsHidden) {
    //     otherContent.fadeIn();
    //     $('.itinerary-map').fadeIn();
    //   } else {
    //     otherContent.fadeOut();
    //     // $('.itinerary-map').fadeOut();
    //   }
    //   elementsHidden = !elementsHidden;
    // });
  });
</script>
